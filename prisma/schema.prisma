// This is your Prisma schema file,
// learn more about it in the docs: https://pris.ly/d/prisma-schema

generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "postgresql"
  url      = env("DATABASE_URL")
}

model Pokemon {
  id             Int      @id
  abilities      String[]
  baseExperience Int      @default(0)
  forms          Form[]
  genera         Genus[]
  height         Int      @default(0)
  isDefault      Boolean  @default(true)
  name           String   @unique
  names          Name[]
  order          Int      @default(0)
  stats          Stat[]
  sprite         String   @default("")
  type1          String   @default("")
  type2          String?
  weight         Int      @default(0)
}

// relevant if the pokémon has a 'mega' form or specialized forms like Deoxys
// (Pikachu has a bunch of 'regional cap' forms as well)
model Form {
  id        Int     @id @default(autoincrement())
  pokemonId Int
  name      String
  url       String
  Pokemon   Pokemon @relation(fields: [pokemonId], references: [id])
}

// flavor text like 'seed pokémon' for Bulbasaur and evolutions
model Genus {
  id        Int     @id @default(autoincrement())
  pokemonId Int
  genus     String  @unique
  language  String
  Pokemon   Pokemon @relation(fields: [pokemonId], references: [id])
}

// name of the pokémon in different languages
model Name {
  id        Int     @id @default(autoincrement())
  pokemonId Int
  name      String
  language  String
  Pokemon   Pokemon @relation(fields: [pokemonId], references: [id])
}

// base stat of the pokémon (HP, Attack, Defence, Sp. Attack, Sp. Defence, Speed)
model Stat {
  id        Int     @id @default(autoincrement())
  baseStat  Int
  effort    Int
  name      String
  Pokemon   Pokemon @relation(fields: [pokemonId], references: [id])
  pokemonId Int
}
